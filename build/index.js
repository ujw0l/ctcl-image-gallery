(()=>{"use strict";var e,t={669:()=>{const e=window.wp.blocks,t=window.wp.element,a=window.React;class l{constructor(e,t){Array.from(document.querySelectorAll(e)).map((e=>{this.createGal(e,t)}))}createGal(e,t){let a=null!=t&&null!=t.imageEvent?t.imageEvent:"click",l=null!=t&&null!=t.mainImgWd?t.mainImgWd:e.offsetWidth,i=null!=t&&null!=t.mainImgHt?t.mainImgHt:e.offsetHeight;e.classList.add("ctclig-image-list");let n=document.createElement("div");n.classList.add("ctclig-main-image"),n.style=`width:${l}px; height :${i}px ;background: url("") center center / contain no-repeat rgb(255, 255, 255,0.5); margin-left:auto;margin-right:auto;display: block;`,n.innerHTML=`<span style='font-size:30px;position:relative; top: ${i/2-5}px; left: ${l/2-5}px ;' >Loading</span>`,e.insertBefore(n,e.querySelector("img"));let r=document.createElement("div");r.style.width=`${l}px`,r.style.overflowX="auto",r.style.overflowY="hidden",r.style.marginLeft="auto",r.style.marginRight="auto",r.style.display="block";let m=document.createElement("div");m.style.width="0px",m.style.marginLeft="auto",m.style.marginRight="auto",m.style.display="block",r.appendChild(m),e.insertBefore(r,e.querySelector("img")),Array.from(e.querySelectorAll("img")).map(((t,l)=>{t.style.display="none",t.addEventListener("load",(t=>{""!=n.innerHTML&&(n.innerHTML="",n.style.backgroundImage=`url("${e.querySelector("img").src}")`);let i=t.target.width/t.target.height*70;m.style.width=`${parseFloat(m.style.width)+i+4}px`,t.target.style.width=`${i}px`,t.target.setAttribute("data-img-num",l),t.target.style.height="70px",t.target.style.margin="2px",t.target.style.display="",t.target.addEventListener(a,(e=>{n.setAttribute("data-num",l),n.style.backgroundImage=`url("${e.target.src}")`,e.target.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})})),m.appendChild(t.target)}))})),null!=t&&null!=t.callBack&&t.callBack(e)}}const i=window.wp.components,n=window.wp.i18n,r=window.wp.blockEditor,m=JSON.parse('{"u2":"ctcl-image-gallery/ctcl-image-gallery"}');(0,e.registerBlockType)(m.u2,{keywords:[__("Gallery","ctcl-image-gallery"),__("image gallery","ctcl-image-gallery")],attributes:{galItems:{type:"Array",default:[]},mainImage:{type:"String",default:""},clntId:{type:"String",default:""},mainImgWd:{type:"Number",default:450},mainImgHt:{type:"Number",default:700},mainImgFinalWd:{type:"Number",default:450},mainImgFinalHt:{type:"Number",default:700}},edit:function(e){let{clientId:m,attributes:g,setAttributes:c}=e;const o=(0,a.useRef)(!0),s=(0,a.useRef)(!1);return c({clntId:m}),(0,a.useEffect)((()=>{let e=document.querySelector(`#ctcl-img-gal-${g.clntId}`),t=e.querySelector(".ctclig-main-image");if(null!=t&&(c({mainImgFinalWd:t.offsetWidth}),c({mainImgFinalHt:t.offsetHeight})),o.current)o.current=!1,null!=e.querySelector(".ctclig-main-image")&&(e.querySelector(".ctclig-main-image").remove(),e.querySelector(".ctclig-image-cont").remove()),0<g.galItems.length&&new l(`#ctcl-img-gal-${g.clntId}`,{mainImgHt:g.mainImgFinalHt,mainImgWd:g.mainImgFinalWd,imageEvent:"mousemove",callBack:e=>e.style.opacity=""});else{let t=e.querySelector(".ctclig-main-image");t.style.height=g.mainImgHt+"px",t.style.width=g.mainImgWd+"px",e.querySelector(".ctclig-image-cont").style.width=t.offsetWidth+"px"}}),[g.mainImgHt,g.mainImgWd,g.galItems]),(0,t.createElement)("div",(0,r.useBlockProps)(),(0,t.createElement)("div",{className:"ctcl-image-gallery-block",id:`ctcl-img-gal-${g.clntId}`,ref:s,"data-height":g.mainImageHt,"data-width":g.mainImageWd,style:{opacity:"0",height:g.mainImageHt+"px",width:g.mainImageWd+"px"}},0<g.galItems.length&&g.galItems.map(((e,a)=>(0,t.createElement)("img",{key:a,id:`ctclif-gal-img-${g.clntId}-${a}`,"data-ts":`${g.clntId}`,"data-image-num":a,style:{width:"70px",height:"70px",margin:"2px"},className:"ctclg-gal-img",onMouseOver:()=>c({mainImage:e.url}),title:e.caption,src:e.url})))),(0,t.createElement)("div",{style:{border:"1px solid rgb(61, 148, 218)",backgroundColor:"rgba(255,255,255,1)"}},(0,t.createElement)(r.MediaUploadCheck,null,(0,t.createElement)(r.MediaUpload,{title:(0,n.__)("Select  images for gallery ","ctcl-image-gallery"),multiple:!0,value:g.galItems.map((e=>e.id)),gallery:!0,onSelect:e=>{c({galItems:e}),c({mainImage:e[0].url}),o.current=!0},allowedTypes:["image"],render:e=>{let{open:a}=e;return(0,t.createElement)("div",{style:{width:"100%",backgroundColor:"rgba(255,255,,255,1)",color:"rgb(61, 148, 218)",padding:"10px"}},(0,t.createElement)("h4",{className:"dashicons-before dashicons-cover-image"},(0,n.__)(" Image Gallery ","ctcl-image-gallery")),(0,t.createElement)(i.Button,{style:{marginLeft:"auto",marginRight:"auto",display:"block",color:"rgb(61, 148, 218)",border:"1px solid rgb(61, 148, 218)"},className:"ctclig-media-button dashicons-before dashicons-cover-image",onClick:a},(0,n.__)(" Select Images","ctcl-image-gallery")))}}))),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(i.PanelBody,null,(0,t.createElement)(i.RangeControl,{label:(0,n.__)("Image width in pixel (px)","ctcl-image-gallery"),min:148,max:window.innerWidth,onChange:e=>c({mainImgWd:e}),value:g.mainImageWd}),(0,t.createElement)(i.RangeControl,{label:(0,n.__)("Image height in pixel(px)","ctcl-image-gallery"),min:148,max:window.innerHeight,onChange:e=>c({mainImgHt:e}),value:g.mainImageHt}))))},save:function(e){let{attributes:a}=e;return(0,t.createElement)("div",r.useBlockProps.save(),0<a.galItems.length&&(0,t.createElement)("div",{id:`ctcl-gallery-${a.clntId}`,"data-clntid":a.clntId,style:{marginLeft:"auto",marginRight:"auto",display:"block",opacity:"0",width:a.mainImgFinalWd+"px",height:a.mainImgFinalHt+"px"},className:"ctcl-gallery","data-width":a.mainImgWd,"data-height":a.mainImgHt},a.galItems.map(((e,l)=>(0,t.createElement)("img",{className:"ctclg-gal-img",id:`ctclif-gal-img-${a.clntId}-${l}`,"data-ts":`${a.clntId}`,"data-image-num":l,style:{margin:"2px"},key:l,title:e.caption,src:e.url})))))}})}},a={};function l(e){var i=a[e];if(void 0!==i)return i.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,i,n)=>{if(!a){var r=1/0;for(o=0;o<e.length;o++){for(var[a,i,n]=e[o],m=!0,g=0;g<a.length;g++)(!1&n||r>=n)&&Object.keys(l.O).every((e=>l.O[e](a[g])))?a.splice(g--,1):(m=!1,n<r&&(r=n));if(m){e.splice(o--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var o=e.length;o>0&&e[o-1][2]>n;o--)e[o]=e[o-1];e[o]=[a,i,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var i,n,[r,m,g]=a,c=0;if(r.some((t=>0!==e[t]))){for(i in m)l.o(m,i)&&(l.m[i]=m[i]);if(g)var o=g(l)}for(t&&t(a);c<r.length;c++)n=r[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(o)},a=globalThis.webpackChunkctcl_image_gallery=globalThis.webpackChunkctcl_image_gallery||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=l.O(void 0,[431],(()=>l(669)));i=l.O(i)})();